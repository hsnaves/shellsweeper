<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>ShellSweeper</title>
        <link rel="stylesheet" type="text/css" href="css/styles.css" ></link>
        <script type="text/javascript" src="js/mt19937.js"></script>
        <script type="text/javascript" src="js/shellsweeper.js"></script>
        <script type="text/javascript" charset="utf-8">
            function on_end(win, secs) {
                if (win) {
                    var yourname = prompt('You won in ' + secs + 's! Please Enter your name:');
                } else {
                    alert('You suck!');
                }
            }
            function play() {
                if (window.game) { window.game.destroy(); window.game = undefined; }
                var options = {};
                options.width = parseInt(document.getElementById("width").value, 10);
                options.height = parseInt(document.getElementById("height").value, 10);
                options.num_bombs = parseInt(document.getElementById("num_bombs").value, 10);
                var seed = document.getElementById("seed").value;
                if (seed !== "") {
                    options.seed = parseInt(document.getElementById("seed").value, 10);
                }
                options.images_dir = 'images/';
                options.on_end = on_end;
                var parent = document.getElementById('board');
                var game = new ShellSweeper(parent, options);
                game.start();
                window.game = game;
            }

            window.onload = function() {
                play();
            };
        </script>
    </head>
    <body>
        <h1>ShellSweeper</h1>
        <div id="board"></div>
        <fieldset>
            <label for="width">Width:</label><input type="text" id="width" name="width" size="5" value="20"></input>
            <label for="height">Height:</label><input type="text" id="height" name="height" size="5" value="20"></input>
            <label for="num_bombs">#Bombs:</label><input type="text" id="num_bombs" name="num_bombs" size="5" value="70"></input>
            <label for="seed">Seed:</label><input type="text" id="seed" name="seed" size="5"></input><br/>
            <input type="submit" value="Play!" onclick="javascript: play();"/><input type="submit" value="Reset" onclick="javascript: game.reset();" />
        </fieldset>
    </body>
</html>

